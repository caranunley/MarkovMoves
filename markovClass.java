import java.util.Random;
import java.io.IOException;

/**
 * This class probabilistically generates a new dance move based on a Markov Matrix.
 * By the end the class will give you a series of dance moves you can practice and
 * try out!!
 * @author caranunley
 *
 */
public class markovClass {
	
	// I have 5 dance positions and predicted what I imagined the probability of going into the next dance
	// move to be based on the previous one and made that into a transition matrix.
	static int[] states = {1, 2, 3, 4, 5};
	static double[][] transitionMatrix = {{0.1,0.2,0.2,0.4,0.2},{0.2,0.2,0.2,0.1, 0.3},{0.1,0,0.1,0.1,0.7},{0.1,01,0.2,0.4,0.2}, {0.3,0.1,0.1,0.1,0.4}};
	
	/**
	 * Main method runs all of the helper methods and also starts off the process.
	 * @param args
	 * @throws IOException
	 */
	public static void main(String[] args ) throws IOException {
	
		// Randomly select the first dance move
		Random rand = new Random();
		int currentState = rand.nextInt(5)+1;
		
		// Create empty array to store the progression
		int[] stateProgression = new int[7];
	
		// Set the first state in the progression array
		stateProgression[0] = currentState;
		
		// Use helper method to generate new moves
		stateProgression = generateNewMoves(currentState, stateProgression);
		
		// Print the final dance move progression
		printMarkov(stateProgression);
		
	}
	
	/**
	 * This loops through and randomly produces new dance moves based on the Markov Probabilities.
	 * @param currentState
	 * @param stateProgression
	 * @return returns an array of the final dance moves. 
	 */
	public static int[] generateNewMoves(int currentState, int[] stateProgression) {
		
		Random rand = new Random();
		
		for (int i = 0; i < 6; i++) {
			
			// Pulls out the row corresponding to the current state from the matrix.
			double[] probabilityMatrix = transitionMatrix[currentState-1];
			
			// Randomly selects a double
			double nextRandom = rand.nextDouble();
			
			
			/**
			 * Here I quasi-randomly select the next move, based on their probabilities by 
			 * looping through that row of the matrix and adding up each probability until I 
			 * exceed the random double - which is when I stop. This ensures that the next 
			 * dance move is based on the probability of it occurring.
			 */
			double probabiltyNumber = 0;
			for(int j = 0; j < 5; j++) {
				probabiltyNumber += probabilityMatrix[j];
				if(probabiltyNumber >= nextRandom) {
					currentState = states[j];
					stateProgression[i+1] = currentState;
					break;
				}
			}
		}
		return stateProgression;
	}
	
	/**
	 * Print off the final dance moves and learn your dance!
	 * @param stateProgression
	 */
	public static void printMarkov(int[] stateProgression) {
		for (int i = 0; i < stateProgression.length; i++) {
			getPosition(stateProgression[i]);
		}
	}
	
	/**
	 * Returns the specific dance move for each position!
	 * @param positionNumber
	 */
	public static void getPosition(int positionNumber) {
		if (positionNumber == 1) {
			System.out.println("□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□■□\n" + 
					"□■■□□□□□□□□□□□□□□□□□□□■□□\n" + 
					"□□■■□□□□□□□□■□□□□□□□■■□□□\n" + 
					"□□□□■■□□□□□■■■□□□□□■■□□□□\n" + 
					"□□□□□■■□□□□■■■□□□□■■□□□□□\n" + 
					"□□□□□□■■□□□□■■□□□■■□□□□□□\n" + 
					"□□□□□□□■■□□□■■□□■■□□□□□□□\n" + 
					"□□□□□□□□■■■■■■■■■□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■■■■■■■■□□□□□□\n" + 
					"□□□□□■■■■■■■■■■■■■■■□□□□□\n" + 
					"□□□□□■■■■■■■■■■■■■■■□□□□□\n" + 
					"□□□□□□■■■■■■■■■■■■■□□□□□□\n" + 
					"□□□□□□□□■■■■■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n");
		} else if (positionNumber == 2) {
			System.out.println("□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□■□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□■□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□■■□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□■□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□■■□□□□□□□□□\n" + 
					"□□□□□□□□□■■■□□■■□□□□□□□□□\n" + 
					"□□□□□□□□□■■■□□■□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■□□■□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■□■■□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□■■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□■■■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□■■□□■■■■□□□□□□□□□□□□\n" + 
					"□□□□■■□□□■■■■□□□□□□□□□□□□\n" + 
					"□□□■■□□□□■■■■□□□□□□□□□□□□\n" + 
					"□□□□■□□□□■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□■■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□■■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□■■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□■■■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■□■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■□□■■□□□□□□□□□□\n" + 
					"□□□□□□□□□■□□□■■□□□□□□□□□□\n" + 
					"□□□□□□□□■■□□□■■□□□□□□□□□□\n" + 
					"□□□□□□□□■■□□□□■■□□□□□□□□□\n" + 
					"□□□□□□□□■■□□□□■■□□□□□□□□□\n" + 
					"□□□□□□□□□■□□□□□■□□□□□□□□□\n" + 
					"□□□□□□□□■■■■□□□■■□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□■■□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□■■□□□□□□□\n");
		} else if (positionNumber == 3) {
			System.out.println("□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□■■□□□□□□□□□□□□□□□□■■□□□□\n" + 
					"□■■■□□□□□□□□□□□□□□□■□□□□□\n" + 
					"□□■■□□□□□□□□□□□□□□■□□□□□□\n" + 
					"□□□□■□□□□□□□□□□□□□■□□□□□□\n" + 
					"□□□□■■□□□□□□□□□□□■■□□□□□□\n" + 
					"□□□□□■■□□□□□□□□□□■□□□□□□□\n" + 
					"□□□□□■■■□□□□□□□□■■■□□□□□□\n" + 
					"□□□□□□■■□□□□□□□□■■■□□□□□□\n" + 
					"□□□□□□□■■□□□□□□■■■■□□□□□□\n" + 
					"□□□□□□□■■■□□□□□■■■■□□□□□□\n" + 
					"□□□□□□□■■■■□□□■■■■■□□□□□□\n" + 
					"□□□□□□□□■■■□□□■■■■■□□□□□□\n" + 
					"□□□□□□□□□■■■■■■■■■■■□□□□□\n" + 
					"□□□□□□□□□■■■■■■■■■■■□□□□□\n" + 
					"□□□□□□□□□■■■■■■■■■■■■□□□□\n" + 
					"□□□□□□□□□■■■■■■■■□□■■■■□□\n" + 
					"□□□□□□□□□■■■■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n");
			
		}else if (positionNumber == 4) {
			System.out.println("□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□■■□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□■■□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□■□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□■□□□□□■■□□□□□□□□□□\n" + 
					"□□□□□□□□■■□□□■■■□□□□□□□□□\n" + 
					"□□□□□□□□■■■□■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■■■□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■□□■■□□□□□□□□\n" + 
					"□□□□□■■■■■■■■□□□■■□□□□□□□\n" + 
					"□□□□■■■■■■■■■□□□□■■□□□□□□\n" + 
					"□□□□■■■■■■■■■■□□□□■■□□□□□\n" + 
					"□□□□□■■■■■■■■■□□□□□□■□□□□\n" + 
					"□□□□□□■■■■■■■■□□□□□□■□□□□\n" + 
					"□□□□□□□□■■■■■□□□□□□□□□□□□\n" + 
					"□□□□□□□□□■■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■■■□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□□■■■■□□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□■■□□□□□□□□□\n" + 
					"□□□□□□□□□□■■□□□■■□□□□□□□□\n" + 
					"□□□□□□□□□□■□□□□□■■□□□□□□□\n" + 
					"□□□□□□□□□□■□□□□□□■■□□□□□□\n" + 
					"□□□□□□□□□■■□□□□□□□■■□□□□□\n" + 
					"□□□□□□□□□■■■□□□□□□□■□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n");
			
		}else if (positionNumber == 5) {
			System.out.println("□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□■□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□■□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□■□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□■□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□■□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□■■□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□■□□□■□□□□□□□□□□□□□\n" + 
					"□□□□□□□■□□□□■□□□□□□□□□□□□\n" + 
					"□□□□□□□■□□□□■□□□□□□□□□□□□\n" + 
					"□□□□□□□■■□□□□■□□□□□□□□□□□\n" + 
					"□□□□□□□■■□□□□■□□□□□□□□□□□\n" + 
					"□□□□□□□■■■□□□■□□□□□□□□□□□\n" + 
					"□□□□□□□□■■■□□■■□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■□□■□□□□□□□□□□\n" + 
					"□□□□□□□□■■■■□□■■□■■□□□□□□\n" + 
					"□□□□□□□□■■■■■■■■■■■■□□□□□\n" + 
					"□□□□□□□□■■■■■■■■■■■■□□□□□\n" + 
					"□□□□□□□□■■■■■■■■■■■□□□□□□\n" + 
					"□□□□□□□□■■□□■■■■□□□□□□□□□\n" + 
					"□□□□□□□□■■□□□□□■■□□□□□□□□\n" + 
					"□□□□□□□□■□□□□□□□■□□□□□□□□\n" + 
					"□□□□□□□□■□□□□□□□■■□□□□□□□\n" + 
					"□□□□□□□■■□□□□□□□□■□□□□□□□\n" + 
					"□□□□□□□□■□□□□□□□□□■□□□□□□\n" + 
					"□□□□□□□□■□□□□□□□□□□■□□□□□\n" + 
					"□□□□□□□□■□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□■□□□□□□□□□□□■□□□□\n" + 
					"□□□□□□□□■■□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□■■□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□■□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□■□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n" + 
					"□□□□□□□□□□□□□□□□□□□□□□□□□\n");
			
		}
	}
	
}

